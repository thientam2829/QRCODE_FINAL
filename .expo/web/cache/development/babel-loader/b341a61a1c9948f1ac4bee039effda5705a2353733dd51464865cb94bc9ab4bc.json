{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport QRCode from \"react-native-qrcode-svg\";\nimport { getNameFromFirestore } from \"../firebaseConfig\";\nimport { auth } from \"../firebaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ProfileScreen = function (_Component) {\n  _inherits(ProfileScreen, _Component);\n  var _super = _createSuper(ProfileScreen);\n  function ProfileScreen() {\n    var _this;\n    _classCallCheck(this, ProfileScreen);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      qrData: \"\"\n    };\n    return _this;\n  }\n  _createClass(ProfileScreen, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(function* () {\n        var user = auth.currentUser;\n        if (user) {\n          var userInfo = yield getNameFromFirestore(email);\n          console.log(\"User Info from Firebase:\", userInfo);\n          if (userInfo) {\n            var _name = userInfo.name,\n              _phone = userInfo.phone,\n              _email = userInfo.email;\n          }\n          var _qrData = `${name}, ${email}, ${phone}`;\n        }\n      });\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        name = _this$state.name,\n        email = _this$state.email,\n        phone = _this$state.phone;\n      return _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(View, {\n          style: styles.profileHeader,\n          children: _jsx(Text, {\n            style: styles.headerText,\n            children: \"Th\\xF4ng tin c\\xE1 nh\\xE2n\"\n          })\n        }), _jsxs(View, {\n          style: styles.profileInfoContainer,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"H\\u1ECD v\\xE0 T\\xEAn:\"\n          }), _jsx(Text, {\n            style: styles.value,\n            children: name\n          }), _jsx(Text, {\n            style: styles.label,\n            children: \"Email:\"\n          }), _jsx(Text, {\n            style: styles.value,\n            children: email\n          }), _jsx(Text, {\n            style: styles.label,\n            children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"\n          }), _jsx(Text, {\n            style: styles.value,\n            children: phone\n          })]\n        }), _jsx(View, {\n          style: styles.qrCodeContainer,\n          children: _jsx(QRCode, {\n            value: qrData,\n            size: 200\n          })\n        })]\n      });\n    }\n  }]);\n  return ProfileScreen;\n}(Component);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#f0f2f5\",\n    padding: 20\n  },\n  profileHeader: {\n    backgroundColor: \"blue\",\n    padding: 10,\n    marginBottom: 20\n  },\n  headerText: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"white\"\n  },\n  editProfileContainer: {\n    backgroundColor: \"white\",\n    padding: 20,\n    borderRadius: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  input: {\n    marginBottom: 10,\n    padding: 10,\n    borderColor: \"#ccc\",\n    borderWidth: 1,\n    borderRadius: 5\n  },\n  saveButton: {\n    backgroundColor: \"#1877f2\",\n    padding: 10,\n    borderRadius: 5,\n    alignItems: \"center\"\n  },\n  saveButtonText: {\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  viewProfileContainer: {\n    backgroundColor: \"white\",\n    padding: 20,\n    borderRadius: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  value: {\n    fontSize: 16,\n    marginBottom: 10\n  },\n  editButton: {\n    backgroundColor: \"blue\",\n    padding: 10,\n    borderRadius: 5,\n    alignItems: \"center\",\n    marginTop: 10\n  },\n  editButtonText: {\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  viewFriendsButton: {\n    backgroundColor: \"#4caf50\",\n    padding: 10,\n    borderRadius: 5,\n    alignItems: \"center\",\n    marginTop: 10\n  },\n  viewFriendsButtonText: {\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  qrCodeContainer: {\n    alignItems: \"center\",\n    marginTop: 20\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"names":["React","Component","View","Text","StyleSheet","QRCode","getNameFromFirestore","auth","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","name","email","phone","qrData","_createClass","key","value","_componentDidMount","_asyncToGenerator","user","currentUser","userInfo","console","log","componentDidMount","render","_this$state","style","styles","container","children","profileHeader","headerText","profileInfoContainer","label","qrCodeContainer","size","create","flex","backgroundColor","padding","marginBottom","fontSize","fontWeight","color","editProfileContainer","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","input","borderColor","borderWidth","saveButton","alignItems","saveButtonText","viewProfileContainer","editButton","marginTop","editButtonText","viewFriendsButton","viewFriendsButtonText"],"sources":["C:/Users/Nguyen Thien Tam/OneDrive/Desktop/MOBILEAPP/QR/components/ProfileScreen.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { View, Text, StyleSheet } from \"react-native\";\r\nimport QRCode from \"react-native-qrcode-svg\";\r\nimport { getNameFromFirestore } from \"../firebaseConfig\"; // Import the function to fetch user info\r\nimport { auth } from \"../firebaseConfig\";\r\nclass ProfileScreen extends Component {\r\n  state = {\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    qrData: \"\",\r\n  };\r\n\r\n   async componentDidMount() {\r\n\r\n    const user = auth.currentUser;\r\n    if (user) {\r\n      \r\n      const userInfo= await getNameFromFirestore(email);\r\n      console.log(\"User Info from Firebase:\", userInfo);\r\n\r\n      if (userInfo) {\r\n        const { name, phone ,email } = userInfo;\r\n       \r\n        // Ensure qrData is set here\r\n      }\r\n      const qrData = `${name}, ${email}, ${phone}`;\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, email, phone} = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        <View style={styles.profileHeader}>\r\n          <Text style={styles.headerText}>Thông tin cá nhân</Text>\r\n        </View>\r\n        <View style={styles.profileInfoContainer}>\r\n          <Text style={styles.label}>Họ và Tên:</Text>\r\n          <Text style={styles.value}>{name}</Text>\r\n          <Text style={styles.label}>Email:</Text>\r\n          <Text style={styles.value}>{email}</Text>\r\n          <Text style={styles.label}>Số điện thoại:</Text>\r\n          <Text style={styles.value}>{phone}</Text>\r\n        </View>\r\n         <View style={styles.qrCodeContainer}>\r\n          <QRCode value={qrData} size={200} />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#f0f2f5\",\r\n    padding: 20,\r\n  },\r\n  profileHeader: {\r\n    backgroundColor: \"blue\",\r\n    padding: 10,\r\n    marginBottom: 20,\r\n  },\r\n  headerText: {\r\n    fontSize: 24,\r\n    fontWeight: \"bold\",\r\n    color: \"white\",\r\n  },\r\n  editProfileContainer: {\r\n    backgroundColor: \"white\",\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  input: {\r\n    marginBottom: 10,\r\n    padding: 10,\r\n    borderColor: \"#ccc\",\r\n    borderWidth: 1,\r\n    borderRadius: 5,\r\n  },\r\n  saveButton: {\r\n    backgroundColor: \"#1877f2\",\r\n    padding: 10,\r\n    borderRadius: 5,\r\n    alignItems: \"center\",\r\n  },\r\n  saveButtonText: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  viewProfileContainer: {\r\n    backgroundColor: \"white\",\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  label: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n  },\r\n  value: {\r\n    fontSize: 16,\r\n    marginBottom: 10,\r\n  },\r\n  editButton: {\r\n    backgroundColor: \"blue\",\r\n    padding: 10,\r\n    borderRadius: 5,\r\n    alignItems: \"center\",\r\n    marginTop: 10,\r\n  },\r\n  editButtonText: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  viewFriendsButton: {\r\n    backgroundColor: \"#4caf50\",\r\n    padding: 10,\r\n    borderRadius: 5,\r\n    alignItems: \"center\",\r\n    marginTop: 10,\r\n  },\r\n  viewFriendsButtonText: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  qrCodeContainer: {\r\n    alignItems: \"center\",\r\n    marginTop: 20,\r\n  },\r\n});\r\n\r\nexport default ProfileScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}