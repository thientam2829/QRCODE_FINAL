{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { getFirestore, collection, onSnapshot, deleteDoc, doc } from \"firebase/firestore\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar FriendListScreen = function FriendListScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    friendsList = _useState2[0],\n    setFriendsList = _useState2[1];\n  var db = getFirestore();\n  useEffect(function () {\n    var unsubscribe = onSnapshot(collection(db, \"friends\"), function (snapshot) {\n      var updatedFriendsList = snapshot.docs.map(function (doc) {\n        return doc.data();\n      });\n      setFriendsList(updatedFriendsList);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, [db]);\n  var handleDeleteFriend = function () {\n    var _ref = _asyncToGenerator(function* (email) {\n      try {\n        var friendDocRef = doc(db, \"friends\", email);\n        yield deleteDoc(friendDocRef);\n        setFriendsList(function (prevFriends) {\n          return prevFriends.filter(function (friend) {\n            return friend.email !== email;\n          });\n        });\n      } catch (error) {\n        console.error(\"Lỗi khi xoá bạn bè:\", error);\n      }\n    });\n    return function handleDeleteFriend(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.header,\n      children: _jsx(Text, {\n        style: styles.headerText,\n        children: \"Danh s\\xE1ch b\\u1EA1n b\\xE8:\"\n      })\n    }), _jsx(FlatList, {\n      data: friendsList,\n      keyExtractor: function keyExtractor(item) {\n        return item.email;\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          style: styles.friendItem,\n          children: [_jsxs(Text, {\n            style: styles.friendName,\n            children: [\"H\\u1ECD t\\xEAn: \", item.name]\n          }), _jsxs(Text, {\n            children: [\"Email: \", item.email]\n          }), _jsxs(Text, {\n            children: [\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i: \", item.phone]\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return handleDeleteFriend(item.email);\n            },\n            children: _jsx(Text, {\n              style: {\n                color: \"red\"\n              },\n              children: \"Xo\\xE1\"\n            })\n          })]\n        });\n      }\n    })]\n  });\n};\nvar styles = {\n  friendItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: \"white\",\n    borderRadius: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    with: \"100%\",\n    marginLeft: \"7%\",\n    marginRight: \"7%\"\n  },\n  friendName: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#333\"\n  },\n  header: {\n    backgroundColor: \"#C7EEE0\",\n    padding: 10,\n    marginBottom: 40,\n    marginTop: 40,\n    alignItems: \"center\",\n    borderRadius: 6,\n    marginLeft: \"10%\",\n    marginRight: \"10%\"\n  },\n  headerText: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"black\"\n  },\n  container: {\n    backgroundColor: \"#F1F2F6\",\n    flex: 1\n  }\n};\nexport default FriendListScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","getFirestore","collection","onSnapshot","deleteDoc","doc","TouchableOpacity","jsx","_jsx","jsxs","_jsxs","FriendListScreen","_useState","_useState2","_slicedToArray","friendsList","setFriendsList","db","unsubscribe","snapshot","updatedFriendsList","docs","map","data","handleDeleteFriend","_ref","_asyncToGenerator","email","friendDocRef","prevFriends","filter","friend","error","console","_x","apply","arguments","style","styles","container","children","header","headerText","keyExtractor","item","renderItem","_ref2","friendItem","friendName","name","phone","onPress","color","marginBottom","padding","backgroundColor","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","with","marginLeft","marginRight","fontSize","fontWeight","marginTop","alignItems","flex"],"sources":["C:/Users/Nguyen Thien Tam/OneDrive/Desktop/MOBILEAPP/QR/components/FriendList.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {View, Text, FlatList} from \"react-native\";\r\nimport {getFirestore, collection, onSnapshot, deleteDoc, doc} from \"firebase/firestore\";\r\nimport {TouchableOpacity} from \"react-native\";\r\nconst FriendListScreen = () => {\r\n    const [friendsList, setFriendsList] = useState([]);\r\n    const db = getFirestore();\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onSnapshot(collection(db, \"friends\"), (snapshot) => {\r\n            const updatedFriendsList = snapshot.docs.map((doc) => doc.data());\r\n            setFriendsList(updatedFriendsList);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [db]);\r\n    const handleDeleteFriend = async (email) => {\r\n        try {\r\n            const friendDocRef = doc(db, \"friends\", email);\r\n            await deleteDoc(friendDocRef);\r\n            setFriendsList((prevFriends) => prevFriends.filter((friend) => friend.email !== email));\r\n        } catch (error) {\r\n            console.error(\"Lỗi khi xoá bạn bè:\", error);\r\n        }\r\n    };\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.header}>\r\n                <Text style={styles.headerText}>Danh sách bạn bè:</Text>\r\n            </View>\r\n            <FlatList\r\n                data={friendsList}\r\n                keyExtractor={(item) => item.email}\r\n                renderItem={({item}) => (\r\n                    <View style={styles.friendItem}>\r\n                        <Text style={styles.friendName}>Họ tên: {item.name}</Text>\r\n                        <Text>Email: {item.email}</Text>\r\n                        <Text>Số điện thoại: {item.phone}</Text>\r\n                        <TouchableOpacity onPress={() => handleDeleteFriend(item.email)}>\r\n                            <Text style={{color: \"red\"}}>Xoá</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                )}\r\n            />\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    friendItem: {\r\n        marginBottom: 10,\r\n        padding: 10,\r\n        backgroundColor: \"white\",\r\n        borderRadius: 10,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2,\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3.84,\r\n        elevation: 5,\r\n        with: \"100%\",\r\n        marginLeft: \"7%\",\r\n        marginRight: \"7%\",\r\n    },\r\n    friendName: {\r\n        fontSize: 16,\r\n        fontWeight: \"bold\",\r\n        color: \"#333\",\r\n    },\r\n    header: {\r\n        backgroundColor: \"#C7EEE0\",\r\n        padding: 10,\r\n        marginBottom: 40,\r\n        marginTop: 40,\r\n        alignItems: \"center\",\r\n        borderRadius: 6,\r\n        marginLeft: \"10%\",\r\n        marginRight: \"10%\",\r\n    },\r\n\r\n    headerText: {\r\n        fontSize: 24,\r\n        fontWeight: \"bold\",\r\n        color: \"black\",\r\n    },\r\n\r\n    container: {\r\n        backgroundColor: \"#F1F2F6\",\r\n        flex: 1,\r\n    },\r\n};\r\n\r\nexport default FriendListScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}